<!DOCTYPE html>
<html lang="en" translate="no">
    <head>
        <title>PokéClicker Wiki</title>
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta charset="utf-8">
        <link href="./pokeclicker/docs/assets/images/favicon.ico" rel="icon" type="image/x-icon">
        <!--jQuery-->
        <script src="./pokeclicker/docs/libs/jquery.min.js"></script>

        <!--Knockout-->
        <script src="./pokeclicker/docs/libs/knockout-latest.js"></script>

        <!-- New module-based code from './modules' -->
        <script src="./pokeclicker/docs/scripts/modules.min.js?v=$VERSION"></script>

        <!--Minified scripts-->
        <script src="./pokeclicker/docs/scripts/script.min.js?v=$VERSION"></script>

        <!--Markdown-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.1/markdown-it.min.js" integrity="sha512-SYfDUYPg5xspsG6OOpXU366G8SZsdHOhqk/icdrYJ2E/WKZxPxze7d2HD3AyXpT7U22PZ5y74xRpqZ6A2bJ+kQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <!--Bootstrap-->
        <link href="./pokeclicker/docs/libs/bootstrap.min.css" rel="stylesheet">
        <script src="./pokeclicker/docs/libs/popper.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.11.1/typeahead.bundle.min.js"></script>
        <script src="./pokeclicker/docs/libs/bootstrap.min.js"></script>

        <!-- Main wiki script -->
        <script src="scripts/main.js"></script>

        <style>
            .clickable {
                cursor: pointer;
            }
        </style>

    </head>
    <body style="padding-top: 5rem; min-height: 100vh;" class="no-select yeti" data-bind="class: 'no-select ' + Settings.getSetting('theme').observableValue(), attr : {'oncontextmenu' : 'return !' + Settings.getSetting('disableRightClickMenu').observableValue().toString() + ';'}">
        <link id="theme-link" href="https://bootswatch.com/4/yeti/bootstrap.min.css" rel="stylesheet" data-bind="attr: {href: 'https://bootswatch.com/4/' + Settings.getSetting('theme').observableValue() + '/bootstrap.min.css'}">
        <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
            <a class="navbar-brand" href="#" onclick="pageType(''); pageName(''); return false;">PokéClicker Wiki</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        
            <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#" onclick="pageType(''); pageName(''); return false;">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="#">Disabled</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</a>
                    <div class="dropdown-menu" aria-labelledby="dropdown01">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </li>
                </ul>
                <form class="form-inline my-2 my-lg-0">
                <knockout data-bind="with: Settings.getSetting('theme')">
                    <select class="form-control mr-sm-2" onchange="Settings.setSettingByName(this.name, this.value)" data-bind="foreach: $data.options, attr: {name}">
                        <option data-bind="text: $data.text, value: $data.value, attr:{ selected: $parent.observableValue() == $data.value}"></option>
                    </select>
                </knockout>
                <input id="search" type="text" class="form-control typeahead" autocomplete="off" placeholder="Search" />
                </form>
            </div>
        </nav>

        <main role="main" class="container">
            <div id="wiki-page-content"></div>
        </main>
        <script>
const searchOptions = [
    {
        display:'Items',
        type: 'items',
        page: 'overview',
    },
    {
        display:'Pokémon',
        type: 'pokemon',
        page: 'overview',
    },
    ...Object.values(ItemList).map(i => ({
        display: i.displayName,
        type: 'items', 
        page: i.displayName,
    })),
    ...Object.values(pokemonList).map(p => ({
        display: p.name,
        type: 'pokemon',
        page: p.name,
    })),
    ...Object.values(dungeonList).map(d => ({
        display: d.name,
        type: 'dungeons',
        page: d.name,
    })),
];
var substringMatcher = function(searchData) {
  return function findMatches(query, cb) {
    var matches, substringRegex;

    // an array that will be populated with substring matches
    matches = [];

    // regex used to determine if a string contains the substring `q`
    substrRegex = new RegExp(query, 'ig');

    // iterate through the pool of strings and for any string that
    // contains the substring `q`, add it to the `matches` array
    searchData.forEach((d, i) => {
      if (substrRegex.test(d.display)) {
        matches.push(d);
      }
    });
    cb(matches);
  };
};

$('#search').typeahead({
  hint: true,
  highlight: true,
  minLength: 1,
  classNames: {
    menu: 'dropdown-menu',
    suggestion: 'dropdown-item',
    cursor: 'active',
  }
},
{
  name: 'Search',
  source: substringMatcher(searchOptions),
  display: 'display',
  templates: {
    notFound: '<a class="dropdown-item disabled">No results found...</a>',
  }
});
$('#search').bind('typeahead:select', function(ev, suggestion) {
    pageType(suggestion.type);
    pageName(suggestion.page);
});
$('#search').bind('typeahead:autocomplete', function(ev, suggestion) {
    pageType(suggestion.type);
    pageName(suggestion.page);
});
        </script>
    </body>
</html>